# To define a resource, here are the allowed resource types with their possible
# configuration options:
#
# Client resources provide the information necessary to connect to backend
# platforms such as an AWS subscription or remote docker engine.
#
#   aws-client
#   ----------
#       aws_access_key_id:  AWS credential needed to access the AWS APIs. Access
#           key ID example: AKIAIOSFODNN7EXAMPLE
#
#       aws_secret_access_key:  Second part of the AWS credential needed to access
#           the AWS APIs. Secret access key example: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
#
#   docker-client
#   -------------
#       engine_url (optional):  IP and port of the server where the docker engine is
#           running. (e.g. tcp://92.5.23.75:2375) If this option is not defined,
#           its value will default to the localhost at 'unix:///var/run/docker.sock'
#
# Environment resources provide the information needed to create and/or connect
# to a computational environment such as an AWS EC2 instance or Docker container.
#
# All environments have the following optional parameters:
#
#   config_path (optional):  Path to niceman configuration file. If none
#       is specified, the following files will be checked for existence
#       in this order:
#           1. '/etc/niceman/niceman.cfg'
#           2. 'niceman/config' in all directories defined by $XDG_CONFIG_DIRS
#               by default: /etc/xdg/)
#           3. 'niceman.cfg' in $XDG_CONFIG_HOME (by default: ~/.config/)
#           4. 'niceman.cfg' in the current directory
#
#   name (optional):  User-friendly name for the environment. This name
#       will be referenced when connecting to or listing an environment. A
#       name will be randomly generated if none is supplied.
#
# The following are the environment resource types:
#
#   docker-environment
#   ------------------
#       resource_client:  NICEMAN resource ID for a client resource. Needed
#           to determine where the Docker engine is located.
#
#       base_image_id (optional):  Docker image identifier to be used when
#           creating the container. Defaults to: 'ubuntu:latest'
#
#   ec2-environment
#   ---------------
#       resource_client:  NICEMAN resource ID for a client resource. Needed
#           to determine the credentials required to connect to the AWS APIs.
#
#       region_name:  Region where EC2 instance is located. (e.g. us-east-1)
#
#       key_name:  Name of SSH key pair registered in the AWS subscription.
#           See: http://http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html
#
#       key_filename:  Path to the SSH private key needed to connect to the
#           EC2 instance.
#
#       base_image_id (optional):  ID for the Amazon AMI to use when creating
#           the EC2 instance. Defaults to 'ami-c8580bdf' which is Ubuntu 14.04 LTS
#
#       instance_type (optional):  AWS compute resource type. Defaults to 't2.micro'
#
#       security_group (optional):  AWS security group (firewall) to use for the EC2
#           instance. Defaults to 'default' security group.
#
#   local-environment
#   -----------------
#       (No localhost specific config parameters defined yet.)

[resource remote-docker]
resource_type = docker-client
engine_url = tcp://127.0.0.1:2375

[resource my-debian]
resource_type = docker-environment
resource_client = remote-docker

[resource my-aws-subscription]
resource_type = aws-client
aws_access_key_id = AWS_ACCESS_KEY_ID
aws_secret_access_key = AWS_SECRET_ACCESS_KEY

[resource ec2-workflow]
resource_type = ec2-environment
resource_client = my-aws-subscription
region_name = us-east-1
instance_type=t2.micro
security_group=SSH only
key_name=aws-key-name
key_filename=/path/to/id_rsa
